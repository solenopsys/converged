ABAC access control 
 
 

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

 
* **`access-service`**
  –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.
  –ù–∞ –≤—Ö–æ–¥–µ: `user_id` –∏–ª–∏ –µ–≥–æ —Ö–µ—à.
  –ù–∞ –≤—ã—Ö–æ–¥–µ: `JWT` —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.

---

#### üîë JWT-—Ñ–æ—Ä–º–∞—Ç (–≤—ã–¥–∞—ë—Ç—Å—è `access-service`):

```json
{
  "sub": "user_abc123",                  // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "perm": ["service1:method1",           // –Ø–≤–Ω–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
           "service2:*"],                // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ wildcard
  "iat": 1691400000,                     // –í—Ä–µ–º—è –≤—ã–ø—É—Å–∫–∞
  "exp": 1691403600                      // –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
}
```

---

#### ‚öôÔ∏è –ü–æ–≤–µ–¥–µ–Ω–∏–µ:

* –ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç JWT –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –≤ `access-service`)
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –ø–æ –ø–æ–ª—é `perm[]` –≤ JWT
* –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–∫—Ä—ã—Ç—ã (whitelist-–º–æ–¥–µ–ª—å)
* `JWT` –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∂–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä LZ4 ‚Üí base64url)

---

#### üß† –ü—Ä–∏–Ω—Ü–∏–ø—ã:

* **–†–æ–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é** ‚Äî –ø—Ä–∞–≤–∞ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —è–≤–Ω–æ (`service:method`)
* **–ü—Ä–µ—Å–µ—Ç—ã –∏ —à–∞–±–ª–æ–Ω—ã** —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –≤ `access-service` –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ `perm[]`
* **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤** —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–≤—ã–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞
* **–¢–æ–∫–µ–Ω –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15 –º–∏–Ω—É—Ç) ‚Üí –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ revoke-—Å–ø–∏—Å–∫–∞—Ö

---

#### üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

* –î–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint (`/api/write`)
* –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è JWT ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π endpoint (`/token`) –ø–æ `user_id`
* –í—Å–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–∏ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ `access-service` –∏–∑ –ø—Ä–µ—Å–µ—Ç–æ–≤, –≥—Ä—É–ø–ø, –∏–ª–∏ —Ö—Ä–∞–Ω–∏–º—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –º–æ–≥—É —Å—Ä–∞–∑—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —ç—Ç–æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç –≤ `docx`, `md`, `pdf` –∏–ª–∏ `rst``.
