import{c as m,A as u,a as l}from"./iframe-BIqZQAoS.js";import{c as a}from"./client-BL43zX9N.js";import"./preload-helper-Dp1pzeXC.js";import"./compat-CeQs_Ny8.js";var n=new Map;function p(){return globalThis.IS_REACT_ACT_ENVIRONMENT}var c=({callback:e,children:r})=>{let t=u();return l(()=>{t.current!==e&&(t.current=e,e())},[e]),r};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,r=null;return{promise:new Promise((t,o)=>{e=t,r=o}),resolve:e,reject:r}});var d=async(e,r,t)=>{let o=await R(r);if(p()){o.render(e);return}let{promise:s,resolve:i}=Promise.withResolvers();return o.render(m(c,{callback:i},e)),s},f=(e,r)=>{let t=n.get(e);t&&(t.unmount(),n.delete(e))},R=async(e,r)=>{let t=n.get(e);return t||(t=a(e),n.set(e,t)),t};export{d as renderElement,f as unmountElement};
