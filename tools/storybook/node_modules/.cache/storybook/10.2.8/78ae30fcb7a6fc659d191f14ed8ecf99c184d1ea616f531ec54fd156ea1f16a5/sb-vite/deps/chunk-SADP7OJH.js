import {
  init_compat_module
} from "./chunk-4PARUNL7.js";
import {
  q
} from "./chunk-AV2RT63R.js";

// ../../node_modules/.bun/@radix-ui+react-compose-refs@1.1.2+26a211c426f3f87c/node_modules/@radix-ui/react-compose-refs/dist/index.mjs
init_compat_module();
function setRef(ref, value) {
  if (typeof ref === "function") {
    return ref(value);
  } else if (ref !== null && ref !== void 0) {
    ref.current = value;
  }
}
function composeRefs(...refs) {
  return (node) => {
    let hasCleanup = false;
    const cleanups = refs.map((ref) => {
      const cleanup = setRef(ref, node);
      if (!hasCleanup && typeof cleanup == "function") {
        hasCleanup = true;
      }
      return cleanup;
    });
    if (hasCleanup) {
      return () => {
        for (let i = 0; i < cleanups.length; i++) {
          const cleanup = cleanups[i];
          if (typeof cleanup == "function") {
            cleanup();
          } else {
            setRef(refs[i], null);
          }
        }
      };
    }
  };
}
function useComposedRefs(...refs) {
  return q(composeRefs(...refs), refs);
}

export {
  composeRefs,
  useComposedRefs
};
//# sourceMappingURL=chunk-SADP7OJH.js.map
