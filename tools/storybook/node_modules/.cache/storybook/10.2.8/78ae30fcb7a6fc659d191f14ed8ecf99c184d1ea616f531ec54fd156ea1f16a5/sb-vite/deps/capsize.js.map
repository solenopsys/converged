{
  "version": 3,
  "sources": ["../../../../../../../../../node_modules/.bun/capsize@2.0.0/node_modules/capsize/dist/capsize.esm.js"],
  "sourcesContent": ["// adapted from https://github.com/sindresorhus/round-to\nfunction roundTo(number, precision) {\n  if (typeof number !== 'number') {\n    throw new TypeError('Expected value to be a number');\n  }\n\n  if (precision === Infinity) {\n    return number;\n  }\n\n  if (!Number.isInteger(precision)) {\n    throw new TypeError('Expected precision to be an integer');\n  }\n\n  const isNegative = number < 0;\n  const inputNumber = isNegative ? Math.abs(number) : number;\n  const power = 10 ** precision;\n  const result = Math.round(Number((inputNumber * power).toPrecision(15))) / power;\n  return isNegative ? -result : result;\n}\n\nfunction capsize(options) {\n  if ('leading' in options && 'lineGap' in options) {\n    throw new Error('Only a single line height style can be provided. Please pass either `lineGap` OR `leading`.');\n  }\n\n  if ('capHeight' in options && 'fontSize' in options) {\n    throw new Error('Please pass either `capHeight` OR `fontSize`, not both.');\n  }\n\n  const {\n    fontMetrics\n  } = options;\n  const capHeightScale = fontMetrics.capHeight / fontMetrics.unitsPerEm;\n  let specifiedFontSize;\n  let specifiedCapHeight;\n\n  if ('capHeight' in options) {\n    specifiedFontSize = options.capHeight / capHeightScale;\n    specifiedCapHeight = options.capHeight;\n  } else if ('fontSize' in options) {\n    specifiedFontSize = options.fontSize;\n    specifiedCapHeight = options.fontSize * capHeightScale;\n  } else {\n    throw new Error('Please pass either `capHeight` OR `fontSize`.');\n  }\n\n  let specifiedLineHeight;\n\n  if ('lineGap' in options) {\n    specifiedLineHeight = specifiedCapHeight + options.lineGap;\n  } else if ('leading' in options) {\n    specifiedLineHeight = options.leading;\n  }\n\n  return createCss({\n    lineHeight: specifiedLineHeight,\n    fontSize: specifiedFontSize,\n    fontMetrics\n  });\n}\n\n/*\n   Rounding all values to a precision of `4` based on discovering that browser\n   implementations of layout units fall between 1/60th and 1/64th of a pixel.\n\n   Reference: https://trac.webkit.org/wiki/LayoutUnit\n   (above wiki also mentions Mozilla - https://trac.webkit.org/wiki/LayoutUnit#Notes)\n*/\nconst PRECISION = 4;\n\nfunction createCss({\n  lineHeight,\n  fontSize,\n  fontMetrics\n}) {\n  const toScale = value => value / fontSize;\n\n  const absoluteDescent = Math.abs(fontMetrics.descent);\n  const capHeightScale = fontMetrics.capHeight / fontMetrics.unitsPerEm;\n  const descentScale = absoluteDescent / fontMetrics.unitsPerEm;\n  const ascentScale = fontMetrics.ascent / fontMetrics.unitsPerEm;\n  const lineGapScale = fontMetrics.lineGap / fontMetrics.unitsPerEm;\n  const contentArea = fontMetrics.ascent + fontMetrics.lineGap + absoluteDescent;\n  const lineHeightScale = contentArea / fontMetrics.unitsPerEm;\n  const lineHeightNormal = lineHeightScale * fontSize;\n  const specifiedLineHeightOffset = lineHeight ? (lineHeightNormal - lineHeight) / 2 : 0;\n\n  const leadingTrim = value => value - toScale(specifiedLineHeightOffset);\n\n  return {\n    fontSize: `${roundTo(fontSize, PRECISION)}px`,\n    lineHeight: lineHeight ? `${roundTo(lineHeight, PRECISION)}px` : 'normal',\n    '::before': {\n      content: \"''\",\n      marginBottom: `${roundTo(leadingTrim(ascentScale - capHeightScale + lineGapScale / 2) * -1, PRECISION)}em`,\n      display: 'table'\n    },\n    '::after': {\n      content: \"''\",\n      marginTop: `${roundTo(leadingTrim(descentScale + lineGapScale / 2) * -1, PRECISION)}em`,\n      display: 'table'\n    }\n  };\n}\nconst getCapHeight = ({\n  fontSize,\n  fontMetrics\n}) => roundTo(fontSize * fontMetrics.capHeight / fontMetrics.unitsPerEm, PRECISION);\n\nexport default capsize;\nexport { getCapHeight };\n"],
  "mappings": ";;;AACA,SAAS,QAAQ,QAAQ,WAAW;AAClC,MAAI,OAAO,WAAW,UAAU;AAC9B,UAAM,IAAI,UAAU,+BAA+B;AAAA,EACrD;AAEA,MAAI,cAAc,UAAU;AAC1B,WAAO;AAAA,EACT;AAEA,MAAI,CAAC,OAAO,UAAU,SAAS,GAAG;AAChC,UAAM,IAAI,UAAU,qCAAqC;AAAA,EAC3D;AAEA,QAAM,aAAa,SAAS;AAC5B,QAAM,cAAc,aAAa,KAAK,IAAI,MAAM,IAAI;AACpD,QAAM,QAAQ,MAAM;AACpB,QAAM,SAAS,KAAK,MAAM,QAAQ,cAAc,OAAO,YAAY,EAAE,CAAC,CAAC,IAAI;AAC3E,SAAO,aAAa,CAAC,SAAS;AAChC;AAEA,SAAS,QAAQ,SAAS;AACxB,MAAI,aAAa,WAAW,aAAa,SAAS;AAChD,UAAM,IAAI,MAAM,6FAA6F;AAAA,EAC/G;AAEA,MAAI,eAAe,WAAW,cAAc,SAAS;AACnD,UAAM,IAAI,MAAM,yDAAyD;AAAA,EAC3E;AAEA,QAAM;AAAA,IACJ;AAAA,EACF,IAAI;AACJ,QAAM,iBAAiB,YAAY,YAAY,YAAY;AAC3D,MAAI;AACJ,MAAI;AAEJ,MAAI,eAAe,SAAS;AAC1B,wBAAoB,QAAQ,YAAY;AACxC,yBAAqB,QAAQ;AAAA,EAC/B,WAAW,cAAc,SAAS;AAChC,wBAAoB,QAAQ;AAC5B,yBAAqB,QAAQ,WAAW;AAAA,EAC1C,OAAO;AACL,UAAM,IAAI,MAAM,+CAA+C;AAAA,EACjE;AAEA,MAAI;AAEJ,MAAI,aAAa,SAAS;AACxB,0BAAsB,qBAAqB,QAAQ;AAAA,EACrD,WAAW,aAAa,SAAS;AAC/B,0BAAsB,QAAQ;AAAA,EAChC;AAEA,SAAO,UAAU;AAAA,IACf,YAAY;AAAA,IACZ,UAAU;AAAA,IACV;AAAA,EACF,CAAC;AACH;AASA,IAAM,YAAY;AAElB,SAAS,UAAU;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,UAAU,WAAS,QAAQ;AAEjC,QAAM,kBAAkB,KAAK,IAAI,YAAY,OAAO;AACpD,QAAM,iBAAiB,YAAY,YAAY,YAAY;AAC3D,QAAM,eAAe,kBAAkB,YAAY;AACnD,QAAM,cAAc,YAAY,SAAS,YAAY;AACrD,QAAM,eAAe,YAAY,UAAU,YAAY;AACvD,QAAM,cAAc,YAAY,SAAS,YAAY,UAAU;AAC/D,QAAM,kBAAkB,cAAc,YAAY;AAClD,QAAM,mBAAmB,kBAAkB;AAC3C,QAAM,4BAA4B,cAAc,mBAAmB,cAAc,IAAI;AAErF,QAAM,cAAc,WAAS,QAAQ,QAAQ,yBAAyB;AAEtE,SAAO;AAAA,IACL,UAAU,GAAG,QAAQ,UAAU,SAAS,CAAC;AAAA,IACzC,YAAY,aAAa,GAAG,QAAQ,YAAY,SAAS,CAAC,OAAO;AAAA,IACjE,YAAY;AAAA,MACV,SAAS;AAAA,MACT,cAAc,GAAG,QAAQ,YAAY,cAAc,iBAAiB,eAAe,CAAC,IAAI,IAAI,SAAS,CAAC;AAAA,MACtG,SAAS;AAAA,IACX;AAAA,IACA,WAAW;AAAA,MACT,SAAS;AAAA,MACT,WAAW,GAAG,QAAQ,YAAY,eAAe,eAAe,CAAC,IAAI,IAAI,SAAS,CAAC;AAAA,MACnF,SAAS;AAAA,IACX;AAAA,EACF;AACF;AACA,IAAM,eAAe,CAAC;AAAA,EACpB;AAAA,EACA;AACF,MAAM,QAAQ,WAAW,YAAY,YAAY,YAAY,YAAY,SAAS;AAElF,IAAO,sBAAQ;",
  "names": []
}
