"use client";
import {
  Content,
  Overlay,
  Portal,
  Root
} from "./chunk-PGN6ZHB2.js";
import "./chunk-BCF67F3A.js";
import "./chunk-GSDDJTJ2.js";
import "./chunk-3EZIWOJE.js";
import {
  useId
} from "./chunk-KG62ECVC.js";
import "./chunk-QBDPHP2G.js";
import {
  Primitive
} from "./chunk-FYYFOSA7.js";
import "./chunk-X5JLBP25.js";
import "./chunk-SA3BGFTL.js";
import "./chunk-YEVVCIG6.js";
import "./chunk-D2JQMD5A.js";
import "./chunk-DEVREQBU.js";
import "./chunk-AGADJWPW.js";
import {
  composeRefs
} from "./chunk-SADP7OJH.js";
import {
  C,
  D,
  _n,
  init_compat_module,
  mn
} from "./chunk-4PARUNL7.js";
import "./chunk-OOWH7ZYW.js";
import "./chunk-XLBIO5PU.js";
import "./chunk-NCT45XSU.js";
import {
  A,
  T,
  _ as _2,
  d,
  x,
  y
} from "./chunk-AV2RT63R.js";
import {
  Q,
  _
} from "./chunk-MR3U7D6L.js";
import "./chunk-5IKWDFCZ.js";

// ../../node_modules/.bun/cmdk@1.1.1+243b16c7711ca280/node_modules/cmdk/dist/chunk-NZJY6EH4.mjs
var U = 1;
var Y = 0.9;
var H = 0.8;
var J = 0.17;
var p = 0.1;
var u = 0.999;
var $ = 0.9999;
var k = 0.99;
var m = /[\\\/_+.#"@\[\(\{&]/;
var B = /[\\\/_+.#"@\[\(\{&]/g;
var K = /[\s-]/;
var X = /[\s-]/g;
function G(_3, C2, h, P2, A2, f, O) {
  if (f === C2.length) return A2 === _3.length ? U : k;
  var T3 = `${A2},${f}`;
  if (O[T3] !== void 0) return O[T3];
  for (var L2 = P2.charAt(f), c = h.indexOf(L2, A2), S = 0, E, N2, R, M; c >= 0; ) E = G(_3, C2, h, P2, c + 1, f + 1, O), E > S && (c === A2 ? E *= U : m.test(_3.charAt(c - 1)) ? (E *= H, R = _3.slice(A2, c - 1).match(B), R && A2 > 0 && (E *= Math.pow(u, R.length))) : K.test(_3.charAt(c - 1)) ? (E *= Y, M = _3.slice(A2, c - 1).match(X), M && A2 > 0 && (E *= Math.pow(u, M.length))) : (E *= J, A2 > 0 && (E *= Math.pow(u, c - A2))), _3.charAt(c) !== C2.charAt(f) && (E *= $)), (E < p && h.charAt(c - 1) === P2.charAt(f + 1) || P2.charAt(f + 1) === P2.charAt(f) && h.charAt(c - 1) !== P2.charAt(f)) && (N2 = G(_3, C2, h, P2, c + 1, f + 2, O), N2 * p > E && (E = N2 * p)), E > S && (S = E), c = h.indexOf(L2, c + 1);
  return O[T3] = S, S;
}
function D2(_3) {
  return _3.toLowerCase().replace(X, " ");
}
function W(_3, C2, h) {
  return _3 = h && h.length > 0 ? `${_3 + " " + h.join(" ")}` : _3, G(_3, C2, D2(_3), D2(C2), 0, 0, {});
}

// ../../node_modules/.bun/cmdk@1.1.1+243b16c7711ca280/node_modules/cmdk/dist/index.mjs
init_compat_module();
var N = '[cmdk-group=""]';
var Y2 = '[cmdk-group-items=""]';
var be = '[cmdk-group-heading=""]';
var le = '[cmdk-item=""]';
var ce = `${le}:not([aria-disabled="true"])`;
var Z = "cmdk-item-select";
var T2 = "data-value";
var Re = (r, o, n) => W(r, o, n);
var ue = Q(void 0);
var K2 = () => x(ue);
var de = Q(void 0);
var ee = () => x(de);
var fe = Q(void 0);
var me = D((r, o) => {
  let n = L(() => {
    var e, a;
    return { search: "", value: (a = (e = r.value) != null ? e : r.defaultValue) != null ? a : "", selectedItemId: void 0, filtered: { count: 0, items: /* @__PURE__ */ new Map(), groups: /* @__PURE__ */ new Set() } };
  }), u2 = L(() => /* @__PURE__ */ new Set()), c = L(() => /* @__PURE__ */ new Map()), d2 = L(() => /* @__PURE__ */ new Map()), f = L(() => /* @__PURE__ */ new Set()), p2 = pe(r), { label: b, children: m2, value: R, onValueChange: x2, filter: C2, shouldFilter: S, loop: A2, disablePointerSelection: ge = false, vimBindings: j = true, ...O } = r, $2 = useId(), q = useId(), _3 = useId(), I = A(null), v = ke();
  k2(() => {
    if (R !== void 0) {
      let e = R.trim();
      n.current.value = e, E.emit();
    }
  }, [R]), k2(() => {
    v(6, ne);
  }, []);
  let E = T(() => ({ subscribe: (e) => (f.current.add(e), () => f.current.delete(e)), snapshot: () => n.current, setState: (e, a, s) => {
    var i, l, g, y2;
    if (!Object.is(n.current[e], a)) {
      if (n.current[e] = a, e === "search") J2(), z(), v(1, W2);
      else if (e === "value") {
        if (document.activeElement.hasAttribute("cmdk-input") || document.activeElement.hasAttribute("cmdk-root")) {
          let h = document.getElementById(_3);
          h ? h.focus() : (i = document.getElementById($2)) == null || i.focus();
        }
        if (v(7, () => {
          var h;
          n.current.selectedItemId = (h = M()) == null ? void 0 : h.id, E.emit();
        }), s || v(5, ne), ((l = p2.current) == null ? void 0 : l.value) !== void 0) {
          let h = a != null ? a : "";
          (y2 = (g = p2.current).onValueChange) == null || y2.call(g, h);
          return;
        }
      }
      E.emit();
    }
  }, emit: () => {
    f.current.forEach((e) => e());
  } }), []), U2 = T(() => ({ value: (e, a, s) => {
    var i;
    a !== ((i = d2.current.get(e)) == null ? void 0 : i.value) && (d2.current.set(e, { value: a, keywords: s }), n.current.filtered.items.set(e, te(a, s)), v(2, () => {
      z(), E.emit();
    }));
  }, item: (e, a) => (u2.current.add(e), a && (c.current.has(a) ? c.current.get(a).add(e) : c.current.set(a, /* @__PURE__ */ new Set([e]))), v(3, () => {
    J2(), z(), n.current.value || W2(), E.emit();
  }), () => {
    d2.current.delete(e), u2.current.delete(e), n.current.filtered.items.delete(e);
    let s = M();
    v(4, () => {
      J2(), (s == null ? void 0 : s.getAttribute("id")) === e && W2(), E.emit();
    });
  }), group: (e) => (c.current.has(e) || c.current.set(e, /* @__PURE__ */ new Set()), () => {
    d2.current.delete(e), c.current.delete(e);
  }), filter: () => p2.current.shouldFilter, label: b || r["aria-label"], getDisablePointerSelection: () => p2.current.disablePointerSelection, listId: $2, inputId: _3, labelId: q, listInnerRef: I }), []);
  function te(e, a) {
    var i, l;
    let s = (l = (i = p2.current) == null ? void 0 : i.filter) != null ? l : Re;
    return e ? s(e, n.current.search, a) : 0;
  }
  function z() {
    if (!n.current.search || p2.current.shouldFilter === false) return;
    let e = n.current.filtered.items, a = [];
    n.current.filtered.groups.forEach((i) => {
      let l = c.current.get(i), g = 0;
      l.forEach((y2) => {
        let h = e.get(y2);
        g = Math.max(h, g);
      }), a.push([i, g]);
    });
    let s = I.current;
    V().sort((i, l) => {
      var h, F;
      let g = i.getAttribute("id"), y2 = l.getAttribute("id");
      return ((h = e.get(y2)) != null ? h : 0) - ((F = e.get(g)) != null ? F : 0);
    }).forEach((i) => {
      let l = i.closest(Y2);
      l ? l.appendChild(i.parentElement === l ? i : i.closest(`${Y2} > *`)) : s.appendChild(i.parentElement === s ? i : i.closest(`${Y2} > *`));
    }), a.sort((i, l) => l[1] - i[1]).forEach((i) => {
      var g;
      let l = (g = I.current) == null ? void 0 : g.querySelector(`${N}[${T2}="${encodeURIComponent(i[0])}"]`);
      l == null || l.parentElement.appendChild(l);
    });
  }
  function W2() {
    let e = V().find((s) => s.getAttribute("aria-disabled") !== "true"), a = e == null ? void 0 : e.getAttribute(T2);
    E.setState("value", a || void 0);
  }
  function J2() {
    var a, s, i, l;
    if (!n.current.search || p2.current.shouldFilter === false) {
      n.current.filtered.count = u2.current.size;
      return;
    }
    n.current.filtered.groups = /* @__PURE__ */ new Set();
    let e = 0;
    for (let g of u2.current) {
      let y2 = (s = (a = d2.current.get(g)) == null ? void 0 : a.value) != null ? s : "", h = (l = (i = d2.current.get(g)) == null ? void 0 : i.keywords) != null ? l : [], F = te(y2, h);
      n.current.filtered.items.set(g, F), F > 0 && e++;
    }
    for (let [g, y2] of c.current) for (let h of y2) if (n.current.filtered.items.get(h) > 0) {
      n.current.filtered.groups.add(g);
      break;
    }
    n.current.filtered.count = e;
  }
  function ne() {
    var a, s, i;
    let e = M();
    e && (((a = e.parentElement) == null ? void 0 : a.firstChild) === e && ((i = (s = e.closest(N)) == null ? void 0 : s.querySelector(be)) == null || i.scrollIntoView({ block: "nearest" })), e.scrollIntoView({ block: "nearest" }));
  }
  function M() {
    var e;
    return (e = I.current) == null ? void 0 : e.querySelector(`${le}[aria-selected="true"]`);
  }
  function V() {
    var e;
    return Array.from(((e = I.current) == null ? void 0 : e.querySelectorAll(ce)) || []);
  }
  function X2(e) {
    let s = V()[e];
    s && E.setState("value", s.getAttribute(T2));
  }
  function Q2(e) {
    var g;
    let a = M(), s = V(), i = s.findIndex((y2) => y2 === a), l = s[i + e];
    (g = p2.current) != null && g.loop && (l = i + e < 0 ? s[s.length - 1] : i + e === s.length ? s[0] : s[i + e]), l && E.setState("value", l.getAttribute(T2));
  }
  function re(e) {
    let a = M(), s = a == null ? void 0 : a.closest(N), i;
    for (; s && !i; ) s = e > 0 ? we(s, N) : De(s, N), i = s == null ? void 0 : s.querySelector(ce);
    i ? E.setState("value", i.getAttribute(T2)) : Q2(e);
  }
  let oe = () => X2(V().length - 1), ie = (e) => {
    e.preventDefault(), e.metaKey ? oe() : e.altKey ? re(1) : Q2(1);
  }, se = (e) => {
    e.preventDefault(), e.metaKey ? X2(0) : e.altKey ? re(-1) : Q2(-1);
  };
  return _(Primitive.div, { ref: o, tabIndex: -1, ...O, "cmdk-root": "", onKeyDown: (e) => {
    var s;
    (s = O.onKeyDown) == null || s.call(O, e);
    let a = e.nativeEvent.isComposing || e.keyCode === 229;
    if (!(e.defaultPrevented || a)) switch (e.key) {
      case "n":
      case "j": {
        j && e.ctrlKey && ie(e);
        break;
      }
      case "ArrowDown": {
        ie(e);
        break;
      }
      case "p":
      case "k": {
        j && e.ctrlKey && se(e);
        break;
      }
      case "ArrowUp": {
        se(e);
        break;
      }
      case "Home": {
        e.preventDefault(), X2(0);
        break;
      }
      case "End": {
        e.preventDefault(), oe();
        break;
      }
      case "Enter": {
        e.preventDefault();
        let i = M();
        if (i) {
          let l = new Event(Z);
          i.dispatchEvent(l);
        }
      }
    }
  } }, _("label", { "cmdk-label": "", htmlFor: U2.inputId, id: U2.labelId, style: Te }, b), B2(r, (e) => _(de.Provider, { value: E }, _(ue.Provider, { value: U2 }, e))));
});
var he = D((r, o) => {
  var _3, I;
  let n = useId(), u2 = A(null), c = x(fe), d2 = K2(), f = pe(r), p2 = (I = (_3 = f.current) == null ? void 0 : _3.forceMount) != null ? I : c == null ? void 0 : c.forceMount;
  k2(() => {
    if (!p2) return d2.item(n, c == null ? void 0 : c.id);
  }, [p2]);
  let b = ve(n, u2, [r.value, r.children, u2], r.keywords), m2 = ee(), R = P((v) => v.value && v.value === b.current), x2 = P((v) => p2 || d2.filter() === false ? true : v.search ? v.filtered.items.get(n) > 0 : true);
  y(() => {
    let v = u2.current;
    if (!(!v || r.disabled)) return v.addEventListener(Z, C2), () => v.removeEventListener(Z, C2);
  }, [x2, r.onSelect, r.disabled]);
  function C2() {
    var v, E;
    S(), (E = (v = f.current).onSelect) == null || E.call(v, b.current);
  }
  function S() {
    m2.setState("value", b.current, true);
  }
  if (!x2) return null;
  let { disabled: A2, value: ge, onSelect: j, forceMount: O, keywords: $2, ...q } = r;
  return _(Primitive.div, { ref: composeRefs(u2, o), ...q, id: n, "cmdk-item": "", role: "option", "aria-disabled": !!A2, "aria-selected": !!R, "data-disabled": !!A2, "data-selected": !!R, onPointerMove: A2 || d2.getDisablePointerSelection() ? void 0 : S, onClick: A2 ? void 0 : C2 }, r.children);
});
var Ee = D((r, o) => {
  let { heading: n, children: u2, forceMount: c, ...d2 } = r, f = useId(), p2 = A(null), b = A(null), m2 = useId(), R = K2(), x2 = P((S) => c || R.filter() === false ? true : S.search ? S.filtered.groups.has(f) : true);
  k2(() => R.group(f), []), ve(f, p2, [r.value, r.heading, b]);
  let C2 = T(() => ({ id: f, forceMount: c }), [c]);
  return _(Primitive.div, { ref: composeRefs(p2, o), ...d2, "cmdk-group": "", role: "presentation", hidden: x2 ? void 0 : true }, n && _("div", { ref: b, "cmdk-group-heading": "", "aria-hidden": true, id: m2 }, n), B2(r, (S) => _("div", { "cmdk-group-items": "", role: "group", "aria-labelledby": n ? m2 : void 0 }, _(fe.Provider, { value: C2 }, S))));
});
var ye = D((r, o) => {
  let { alwaysRender: n, ...u2 } = r, c = A(null), d2 = P((f) => !f.search);
  return !n && !d2 ? null : _(Primitive.div, { ref: composeRefs(c, o), ...u2, "cmdk-separator": "", role: "separator" });
});
var Se = D((r, o) => {
  let { onValueChange: n, ...u2 } = r, c = r.value != null, d2 = ee(), f = P((m2) => m2.search), p2 = P((m2) => m2.selectedItemId), b = K2();
  return y(() => {
    r.value != null && d2.setState("search", r.value);
  }, [r.value]), _(Primitive.input, { ref: o, ...u2, "cmdk-input": "", autoComplete: "off", autoCorrect: "off", spellCheck: false, "aria-autocomplete": "list", role: "combobox", "aria-expanded": true, "aria-controls": b.listId, "aria-labelledby": b.labelId, "aria-activedescendant": p2, id: b.inputId, type: "text", value: c ? r.value : f, onChange: (m2) => {
    c || d2.setState("search", m2.target.value), n == null || n(m2.target.value);
  } });
});
var Ce = D((r, o) => {
  let { children: n, label: u2 = "Suggestions", ...c } = r, d2 = A(null), f = A(null), p2 = P((m2) => m2.selectedItemId), b = K2();
  return y(() => {
    if (f.current && d2.current) {
      let m2 = f.current, R = d2.current, x2, C2 = new ResizeObserver(() => {
        x2 = requestAnimationFrame(() => {
          let S = m2.offsetHeight;
          R.style.setProperty("--cmdk-list-height", S.toFixed(1) + "px");
        });
      });
      return C2.observe(m2), () => {
        cancelAnimationFrame(x2), C2.unobserve(m2);
      };
    }
  }, []), _(Primitive.div, { ref: composeRefs(d2, o), ...c, "cmdk-list": "", role: "listbox", tabIndex: -1, "aria-activedescendant": p2, "aria-label": u2, id: b.listId }, B2(r, (m2) => _("div", { ref: composeRefs(f, b.listInnerRef), "cmdk-list-sizer": "" }, m2)));
});
var xe = D((r, o) => {
  let { open: n, onOpenChange: u2, overlayClassName: c, contentClassName: d2, container: f, ...p2 } = r;
  return _(Root, { open: n, onOpenChange: u2 }, _(Portal, { container: f }, _(Overlay, { "cmdk-overlay": "", className: c }), _(Content, { "aria-label": r.label, "cmdk-dialog": "", className: d2 }, _(me, { ref: o, ...p2 }))));
});
var Ie = D((r, o) => P((u2) => u2.filtered.count === 0) ? _(Primitive.div, { ref: o, ...r, "cmdk-empty": "", role: "presentation" }) : null);
var Pe = D((r, o) => {
  let { progress: n, children: u2, label: c = "Loading...", ...d2 } = r;
  return _(Primitive.div, { ref: o, ...d2, "cmdk-loading": "", role: "progressbar", "aria-valuenow": n, "aria-valuemin": 0, "aria-valuemax": 100, "aria-label": c }, B2(r, (f) => _("div", { "aria-hidden": true }, f)));
});
var _e = Object.assign(me, { List: Ce, Item: he, Input: Se, Group: Ee, Separator: ye, Dialog: xe, Empty: Ie, Loading: Pe });
function we(r, o) {
  let n = r.nextElementSibling;
  for (; n; ) {
    if (n.matches(o)) return n;
    n = n.nextElementSibling;
  }
}
function De(r, o) {
  let n = r.previousElementSibling;
  for (; n; ) {
    if (n.matches(o)) return n;
    n = n.previousElementSibling;
  }
}
function pe(r) {
  let o = A(r);
  return k2(() => {
    o.current = r;
  }), o;
}
var k2 = typeof window == "undefined" ? y : _2;
function L(r) {
  let o = A();
  return o.current === void 0 && (o.current = r()), o;
}
function P(r) {
  let o = ee(), n = () => r(o.snapshot());
  return C(o.subscribe, n, n);
}
function ve(r, o, n, u2 = []) {
  let c = A(), d2 = K2();
  return k2(() => {
    var b;
    let f = (() => {
      var m2;
      for (let R of n) {
        if (typeof R == "string") return R.trim();
        if (typeof R == "object" && "current" in R) return R.current ? (m2 = R.current.textContent) == null ? void 0 : m2.trim() : c.current;
      }
    })(), p2 = u2.map((m2) => m2.trim());
    d2.value(r, f, p2), (b = o.current) == null || b.setAttribute(T2, f), c.current = f;
  }), c;
}
var ke = () => {
  let [r, o] = d(), n = L(() => /* @__PURE__ */ new Map());
  return k2(() => {
    n.current.forEach((u2) => u2()), n.current = /* @__PURE__ */ new Map();
  }, [r]), (u2, c) => {
    n.current.set(u2, c), o({});
  };
};
function Me(r) {
  let o = r.type;
  return typeof o == "function" ? o(r.props) : "render" in o ? o.render(r.props) : r;
}
function B2({ asChild: r, children: o }, n) {
  return r && mn(o) ? _n(Me(o), { ref: o.ref }, n(o.props.children)) : n(o);
}
var Te = { position: "absolute", width: "1px", height: "1px", padding: "0", margin: "-1px", overflow: "hidden", clip: "rect(0, 0, 0, 0)", whiteSpace: "nowrap", borderWidth: "0" };
export {
  _e as Command,
  xe as CommandDialog,
  Ie as CommandEmpty,
  Ee as CommandGroup,
  Se as CommandInput,
  he as CommandItem,
  Ce as CommandList,
  Pe as CommandLoading,
  me as CommandRoot,
  ye as CommandSeparator,
  Re as defaultFilter,
  P as useCommandState
};
//# sourceMappingURL=cmdk.js.map
