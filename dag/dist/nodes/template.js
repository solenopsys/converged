import{JSONPath as y}from"jsonpath-plus";function f(e,t,i){let o=e;for(let[c,n]of Object.entries(i)){let r=new RegExp(`\\{${c}\\}`,"g");o=o.replace(r,n)}return o}class s{name;config;constructor(e,t){this.name=e,this.config=t}async execute(e,t){let i=await t.getFrom(e,this.config.templatePath);if(!i)throw new Error(`No template found at JSON path: ${this.config.templatePath}`);try{let o={};for(let[n,r]of Object.entries(this.config.mapping)){let g=await t.getFrom(e,r);o[n]=g}return f(i,e,o)}catch(o){throw new Error(`Error processing template: ${o.message}`)}}}export{s as TemplateInjectorNode};
