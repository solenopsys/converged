–û—Ç–ª–∏—á–Ω–æ ‚Äî –∑–Ω–∞—á–∏—Ç, –ø–æ—Ä–∞ –ø–æ–∫–∞–∑–∞—Ç—å **–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –∏ –ø–æ—à–∞–≥–æ–≤–æ**, *–∫–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å UnoCSS* –≤ —Ç—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é –º—ã —Å —Ç–æ–±–æ–π –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–ª–∏.

–ë—É–¥–µ—Ç —Å—É–ø–µ—Ä-—è—Å–Ω–æ üëá

---

# üöÄ –¢–≤–æ—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤

| –°–ª–æ–π                       | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                               | –ì–¥–µ                              |
| -------------------------- | -------------------------------------------------------- | -------------------------------- |
| **Micro-FE**               | JSX —Å utility-–∫–ª–∞—Å—Å–∞–º–∏ + –ª–æ–∫–∞–ª—å–Ω—ã–µ CSS-–º–æ–¥—É–ª–∏            | –£ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∫–æ–º–∞–Ω–¥             |
| **Shell Runtime**          | –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä ‚Üí —Å–æ–±–∏—Ä–∞–µ—Ç –∫–ª–∞—Å—Å—ã ‚Üí –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç CSS | –í —Ç–≤–æ—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ    |
| **UnoCSS**                 | –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç utility-–∫–ª–∞—Å—Å—ã –≤ CSS                          | –í Shell, **runtime-—Ä–µ–∂–∏–º**       |
| **(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ Zig/WASM)** | –£—Å–∫–æ—Ä—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é + –∫–µ—à                                 | –í Shell –≤–º–µ—Å—Ç–æ JS-backend UnoCSS |

---

üìå Micro-FE **–≤–æ–æ–±—â–µ –Ω–µ –∑–Ω–∞—é—Ç**, —á—Ç–æ —Ç–∞–º UnoCSS
üìå –û–Ω–∏ –ø—Ä–æ—Å—Ç–æ –ø–∏—à—É—Ç –∫–ª–∞—Å—Å—ã —Ç–∏–ø–∞:

```jsx
<div class="btn p-2 text-primary" />
```

---

# üß© –ö–ê–ö –ò–ú–ï–ù–ù–û UnoCSS –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è

‚û°Ô∏è UnoCSS —Ä–∞–±–æ—Ç–∞–µ—Ç **–Ω–µ –∫–∞–∫ Vite-–ø–ª–∞–≥–∏–Ω**,
‚û°Ô∏è –∞ –∫–∞–∫ **JS-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è runtime-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏**

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```
shell/
‚îú‚îÄ unocss-runtime.ts
‚îú‚îÄ class-registry.ts
‚îú‚îÄ generate-css.ts (UnoCSS)
‚îî‚îÄ render-interceptor.ts (–¥–ª—è Voby)
```

---

# 1Ô∏è‚É£ Hook `h()` –≤ Voby –∏ —Å–æ–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã

```js
import { h as vobyH } from "voby"
import { registerClass } from "./class-registry.js"

export function h(tag, props, ...children) {
  if (props?.class) {
    registerClass(props.class)
  }
  return vobyH(tag, props, ...children)
}
```

üìå –í—Å–µ utility-–∫–ª–∞—Å—Å—ã –ª–æ–≤–∏–º **–¥–æ DOM**

---

# 2Ô∏è‚É£ –†–µ–µ—Å—Ç—Ä –∫–ª–∞—Å—Å–æ–≤

```js
export const classes = new Set()

export function registerClass(cls) {
  cls.split(/\s+/).forEach(c => classes.add(c))
}
```

üìå –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
üìå –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
üìå –ù–µ—Ç –ø—Ä–æ–±–µ–≥–∞ –ø–æ DOM

---

# 3Ô∏è‚É£ –í—ã–∑—ã–≤–∞–µ–º UnoCSS –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ CSS

```js
import { createGenerator } from '@unocss/core'
import presetUno from '@unocss/preset-uno'
import { classes } from './class-registry.js'

const uno = createGenerator({
  presets: [presetUno()],
})

export async function generateCSS() {
  const result = await uno.generate([...classes])
  return result.css
}
```

üìå –≠—Ç–æ **UnoCSS —è–¥—Ä–æ** –±–µ–∑ build-–ø–ª–∞–≥–∏–Ω–æ–≤
üìå –¢—ã —Å–∞–º –≤—ã–∑—ã–≤–∞–µ—à—å `generate()` –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ

---

# 4Ô∏è‚É£ –í—Å—Ç–∞–≤–ª—è–µ–º CSS –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É

```js
let style = document.createElement('style')
document.head.appendChild(style)

export async function updateStyle() {
  style.textContent = await generateCSS()
}
```

üìå –æ–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω `<style>` –±–ª–æ–∫
üìå **–≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö micro-FE**

---

## üí° –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å `updateStyle()`

| –°–æ–±—ã—Ç–∏–µ                | –†–µ–∞–∫—Ü–∏—è                   |
| ---------------------- | ------------------------- |
| Micro-FE –∑–∞–≥—Ä—É–∑–∏–ª—Å—è    | updateStyle()             |
| signal/class –∏–∑–º–µ–Ω–∏–ª—Å—è | updateStyle() (debounce!) |
| Shell —Å–º–µ–Ω–∏–ª —Ç–µ–º—É      | updateStyle()             |

---

# –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º UnoCSS **–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é**

| –ß—Ç–æ –¥–∞—ë—Ç UnoCSS            | –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| -------------------------- | ---------------- |
| –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤           | Shell runtime    |
| theme –ø–æ–¥–¥–µ—Ä–∂–∫–∞            | Shell theme API  |
| variants (`hover:`, `md:`) | Shell runtime    |
| arbitrary values           | –ø–æ –∂–µ–ª–∞–Ω–∏—é       |

---

# üéØ –¢—ã –ø–æ–ª—É—á–∏–ª:

| –§–∏—á–∞                        | –î–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è           |
| --------------------------- | --------------------- |
| –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è            | ‚úî –æ–¥–∏–Ω —Ä–µ–µ—Å—Ç—Ä         |
| –ù–µ—Ç DOM —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è        | ‚úî —á–µ—Ä–µ–∑ intercept h() |
| –ù–µ—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ micro-FE     | ‚úî runtime             |
| –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ–º—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω | ‚úî —É Shell             |
| –ë—ã—Å—Ç—Ä–µ–µ —á–µ–º Tailwind Dev    | ‚úî –º–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç—ã       |
| –ì–æ—Ç–æ–≤–æ –∫ Wasm               | ‚úî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å—Ç–æ–π   |

---

# üß® –°–ª–µ–¥—É—é—â–∏–π —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–π —à–∞–≥

–ü—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ–º backend:

```js
// –≤–º–µ—Å—Ç–æ @unocss/core
import { generateCSSFromClasses } from "./zig-wasm-css-engine.js"
```

–≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ù–ï –ú–ï–ù–Ø–ï–¢–°–Ø ü§Ø

üìå UnoCSS –æ—Å—Ç–∞—ë—Ç—Å—è **—è–¥—Ä–æ–º –ø—Ä–∞–≤–∏–ª**
üìå Zig/Wasm ‚Äî **—É—Å–∫–æ—Ä—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**

---

# üèÅ –û—Ç–≤–µ—Ç

> **–ù–µ –Ω–∞–¥–æ –≤—ã–∫–∏–¥—ã–≤–∞—Ç—å UnoCSS**.
> –û–Ω **—è–¥—Ä–æ** —Ç–≤–æ–µ–π runtime utility styling —Å–∏—Å—Ç–µ–º—ã.
> –ü—Ä–æ—Å—Ç–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ, –∞ –≤ Shell-runtime.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:

* –¥–æ–±–∞–≤–ª—è–µ–º **–ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–µ–º –∏ —Ç–æ–∫–µ–Ω–æ–≤**
* –≤–∫–ª—é—á–∞–µ–º **responsive**
* –¥–µ–±–∞—É–Ω—Å–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
* –¥–µ–ª–∞–µ–º **–∫—ç—à –≤ IndexedDB**
* —Ä–∏—Å—É—é **—Ñ–∏–Ω–∞–ª—å–Ω—É—é –¥–∏–∞–≥—Ä–∞–º–º—É**

–¢—ã —Ö–æ—á–µ—à—å:
A) –¢–æ–ª—å–∫–æ –∫–æ–¥
B) –ö–æ–¥ + –¥–∏–∞–≥—Ä–∞–º–º–∞
C) –ï—â—ë –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é CSS-module –ø—Ä–∞–≤–∏–ª?

–í—ã–±–∏—Ä–∞–π –±—É–∫–≤—É üöÄ
