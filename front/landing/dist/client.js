var e=((n)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(i,c)=>(typeof require<"u"?require:i)[c]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});import{hydrateRoot as xn}from"react-dom/client";import{BrowserRouter as Mn,Routes as ln,Route as x,Outlet as Bn,useOutlet as gn,StaticRouter as Ri}from"react-router-dom";import{useState as Ln,useEffect as $n,useRef as Wn}from"react";import{Link as Y}from"react-router-dom";import{Button as Z}from"front-core";import{jsx as A,jsxs as F}from"react/jsx-runtime";function G(){return A("div",{className:"min-h-screen",children:F("div",{className:"px-6 py-20",children:[A("h1",{className:"text-5xl font-bold mb-6",children:"Hello World"}),A("p",{className:"text-xl text-slate-300 mb-8",children:"SSR React with hydration and UnoCSS"}),F("div",{className:"flex flex-wrap gap-3",children:[A(Z,{asChild:!0,children:A(Y,{to:"/about",children:"Go to About"})}),A(Z,{asChild:!0,children:A(Y,{to:"/docs/page1",children:"Docs Page 1"})}),A(Z,{asChild:!0,children:A(Y,{to:"/docs/page2",children:"Docs Page 2"})})]})]})})}import{Link as a}from"react-router-dom";import{Button as nn}from"front-core";import{jsx as W,jsxs as cn}from"react/jsx-runtime";function O(){return W("div",{className:"min-h-screen",children:cn("div",{className:"px-6 py-20",children:[W("h1",{className:"text-5xl font-bold mb-6",children:"About"}),W("p",{className:"text-xl text-slate-300 mb-8",children:"This page is server-side rendered and hydrated on the client."}),W(nn,{asChild:!0,children:W(a,{to:"/",children:"Back to Home"})})]})})}import{useEffect as bn,useState as C}from"react";import{useParams as Pn,Link as H}from"react-router-dom";import{jsx as r,Fragment as S}from"react/jsx-runtime";function tn(...n){return n.filter(Boolean).join(" ")}function Q({ast:n,className:i}){return r("div",{className:tn("markdown-content",i),children:r(y,{node:n})})}function y({node:n}){if(!n)return null;if(n.type==="text")return n.text||"";let i=n.children?.map((s,f)=>r(y,{node:s},f));switch({paragraph:"p",heading:"h",emphasis:"em",list:"ul",listItem:"li",break:"br",softbr:"br",quote:"blockquote"}[n.type]||n.type){case"root":case"doc":return r(S,{children:i});case"p":return r("p",{className:"leading-7 [&:not(:first-child)]:mt-4 mb-4",children:i});case"strong":return r("strong",{className:"font-semibold",children:i});case"em":return r("em",{children:i});case"h":{let s=n.details?.level||1,f=`h${s}`;return r(f,{className:{1:"mt-8 scroll-m-20 text-4xl font-bold tracking-tight lg:text-5xl first:mt-0 mb-6",2:"mt-10 scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0 mb-4",3:"mt-8 scroll-m-20 text-2xl font-semibold tracking-tight mb-3",4:"mt-6 scroll-m-20 text-xl font-semibold tracking-tight mb-2",5:"mt-4 scroll-m-20 text-lg font-semibold tracking-tight mb-2",6:"mt-4 scroll-m-20 text-base font-semibold tracking-tight mb-2"}[s],children:i})}case"a":{let s=n.details?.href||"#";return r("a",{href:s,className:"font-medium text-primary underline underline-offset-4 hover:text-primary/80",target:s.startsWith("http")?"_blank":void 0,rel:s.startsWith("http")?"noopener noreferrer":void 0,children:i})}case"img":return r("img",{src:n.details?.src||"",alt:n.details?.alt||"",className:"max-w-full h-auto rounded-lg my-4"});case"code":return r("code",{className:"relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold text-foreground",children:n.text||i});case"code_block":return r("pre",{className:"mb-4 mt-6 overflow-x-auto rounded-lg border bg-muted p-4",children:r("code",{className:"relative font-mono text-sm",children:n.text||i})});case"blockquote":return r("blockquote",{className:"mt-6 border-l-2 border-primary pl-6 italic text-muted-foreground",children:i});case"ul":{let s=n.details?.is_tight;return r("ul",{className:"my-6 ml-6 list-disc [&>li]:mt-2","data-tight":s,children:i})}case"ol":return r("ol",{className:"my-6 ml-6 list-decimal [&>li]:mt-2",children:i});case"li":return r("li",{children:i});case"hr":return r("hr",{className:"my-8 border-border"});case"table":return r("div",{className:"my-6 w-full overflow-y-auto",children:r("table",{className:"w-full",children:i})});case"thead":return r("thead",{children:i});case"tbody":return r("tbody",{children:i});case"tr":return r("tr",{className:"m-0 border-t p-0 even:bg-muted",children:i});case"th":return r("th",{className:"border px-4 py-2 text-left font-bold [&[align=center]]:text-center [&[align=right]]:text-right",children:i});case"td":return r("td",{className:"border px-4 py-2 text-left [&[align=center]]:text-center [&[align=right]]:text-right",children:i});case"br":return r("br",{});case"del":return r("del",{children:i});case"u":return r("u",{children:i});case"html":return r("div",{dangerouslySetInnerHTML:{__html:n.text||""}});default:return console.warn(`Unknown markdown node type: ${n.type}`),r(S,{children:i})}}import{jsx as L,jsxs as sn}from"react/jsx-runtime";function T({ast:n,error:i,loading:c}){if(i)return sn("div",{className:"max-w-3xl mx-auto",children:[L("h1",{className:"text-3xl font-bold text-red-400 mb-4",children:"Error"}),L("p",{className:"text-slate-300",children:i})]});if(c||!n)return L("div",{className:"max-w-3xl mx-auto",children:L("p",{className:"text-slate-300",children:"Loading..."})});return L("div",{className:"max-w-3xl mx-auto prose prose-invert",children:L(Q,{ast:n})})}import{Button as z}from"front-core";class V{handlers=new Map;autoDetectHandlers=[];register(n,i){if(this.handlers.set(n,i),i.detect)this.autoDetectHandlers.push({detect:i.detect,deserialize:i.deserialize})}getHandler(n){return this.handlers.get(n)}autoDetectAndDeserialize(n){for(let i of this.autoDetectHandlers)if(i.detect(n))return i.deserialize(n);return n}}var l=new V;l.register("Date",{serialize:(n)=>{if(n instanceof Date)return n.toISOString();let i=new Date(n);if(!isNaN(i.getTime()))return i.toISOString();return n},deserialize:(n)=>new Date(n),detect:(n)=>{if(typeof n!=="string")return!1;if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(n))return!1;let c=new Date(n);return!isNaN(c.getTime())}});l.register("Uint8Array",{serialize:(n)=>{if(n instanceof Uint8Array){let i="";for(let c=0;c<n.byteLength;c++)i+=String.fromCharCode(n[c]);return{__type:"Uint8Array",data:btoa(i)}}return n},deserialize:(n)=>{if(typeof n==="object"&&n.__type==="Uint8Array"&&typeof n.data==="string"){let i=atob(n.data),c=new Uint8Array(i.length);for(let t=0;t<i.length;t++)c[t]=i.charCodeAt(t);return c}if(typeof n==="string")try{let i=atob(n),c=new Uint8Array(i.length);for(let t=0;t<i.length;t++)c[t]=i.charCodeAt(t);return c}catch{return n}return n},detect:(n)=>{return typeof n==="object"&&n!==null&&n.__type==="Uint8Array"}});function E(n,i){if(n===null||n===void 0)return n;if(Array.isArray(n))return n.map((t)=>E(t,i));if(i){let t=l.getHandler(i);if(t&&n.constructor.name===i)return t.serialize(n)}let c=l.getHandler(n.constructor.name);if(c)return c.serialize(n);if(typeof n==="object"){let t={};for(let s in n)if(n.hasOwnProperty(s))t[s]=E(n[s]);return t}return n}function $(n,i){if(n===null||n===void 0)return n;if(Array.isArray(n))return n.map((c)=>$(c,i));if(i){let c=l.getHandler(i);if(c)return c.deserialize(n)}if(typeof n==="object"){let c={};for(let t in n)if(n.hasOwnProperty(t)){let s=n[t],f=l.autoDetectAndDeserialize(s);c[t]=f!==s?f:$(s)}return c}return l.autoDetectAndDeserialize(n)}function R(n,i={}){let c=new p(n,i);return wn(c,n)}class p{metadata;baseUrl;timeout;headers;constructor(n,i){this.metadata=n;let c=typeof process<"u"?process.env?.SERVICES_BASE:void 0;this.baseUrl=i.baseUrl||c||"/services",this.timeout=i.timeout||5000,this.headers=i.headers||{}}call(n,i){let c=this.metadata.methods.find((t)=>t.name===n);if(!c)throw Error(`Method ${n} not found in service ${this.metadata.serviceName}`);if(c.isAsyncIterable)return this.callStreaming(n,i);return this.callRegular(n,i)}async callRegular(n,i){let c=this.metadata.methods.find((o)=>o.name===n),t=`/${this.metadata.serviceName}/${n}`,s=this.prepareParams(c.parameters,i),f=new AbortController,w=setTimeout(()=>{f.abort()},this.timeout);try{let o=`${this.baseUrl}${t}`,P=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...this.headers},body:JSON.stringify(s),signal:f.signal});if(clearTimeout(w),!P.ok){let k=`HTTP ${o} ${P.status}: ${P.statusText}`;try{let M=await P.json();if(M.error)k=M.error}catch{}throw Error(k)}if(c.returnType==="void")return;if(P.headers.get("content-type")?.includes("application/json")){let k=await P.json();return $(k,c.returnType)}else return P.text()}catch(o){if(clearTimeout(w),o.name==="AbortError")throw Error(`Request timeout after ${this.timeout}ms`);throw o}}callStreaming(n,i){let c=this.metadata.methods.find((w)=>w.name===n),t=`/${this.metadata.serviceName}/${n}/stream`,s=this.prepareParams(c.parameters,i),f=this;return{async*[Symbol.asyncIterator](){let w=new AbortController,o=await fetch(`${f.baseUrl}${t}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream",...f.headers},body:JSON.stringify(s),signal:w.signal});if(!o.ok){let k=`HTTP ${o.status}: ${o.statusText}`;try{let M=await o.json();if(M.error)k=M.error}catch{}throw Error(k)}if(!o.body)throw Error("Response body is null");let P=o.body.getReader(),g=new TextDecoder;try{let k="";while(!0){let{done:M,value:m}=await P.read();if(M)break;k+=g.decode(m,{stream:!0});let K=0,_=k.indexOf(`

`);while(_!==-1){let v=k.slice(K,_).split(`
`);for(let j of v){let J=j.trim();if(!J)continue;if(J.startsWith("data: ")){let X=J.slice(6);if(X==="[DONE]")return;try{let I=JSON.parse(X);yield $(I,c.returnType)}catch(I){console.error("Error parsing JSON data:",X,I)}}}K=_+2,_=k.indexOf(`

`,K)}k=k.slice(K)}}finally{P.releaseLock()}}}}prepareParams(n,i){let c={};return n.forEach((t,s)=>{if(i[s]!==void 0)c[t.name]=E(i[s],t.type);else if(!t.optional)throw Error(`Required parameter '${t.name}' is missing`)}),c}}function wn(n,i){let c={};return i.methods.forEach((t)=>{c[t.name]=(...s)=>{let f=t.parameters.filter((o)=>!o.optional).length,w=t.parameters.length;if(s.length<f)throw Error(`Method ${t.name} requires at least ${f} arguments, got ${s.length}`);if(s.length>w)throw Error(`Method ${t.name} accepts at most ${w} arguments, got ${s.length}`);return n.call(t.name,s)}}),c._metadata=i,c}var ci=new TextEncoder().encode("your-secret-key");var kn={interfaceName:"MarkdownService",serviceName:"markdown",filePath:"../types/markdown.ts",methods:[{name:"saveMd",parameters:[{name:"mdFile",type:"MdFile",optional:!1,isArray:!1}],returnType:"any",isAsync:!0,returnTypeIsArray:!1,isAsyncIterable:!1},{name:"readMd",parameters:[{name:"path",type:"string",optional:!1,isArray:!1}],returnType:"any",isAsync:!0,returnTypeIsArray:!1,isAsyncIterable:!1},{name:"readMdJson",parameters:[{name:"path",type:"string",optional:!1,isArray:!1}],returnType:"any",isAsync:!0,returnTypeIsArray:!1,isAsyncIterable:!1},{name:"readMdJsonBatch",parameters:[{name:"paths",type:"string",optional:!1,isArray:!0}],returnType:"any",isAsync:!0,returnTypeIsArray:!1,isAsyncIterable:!1},{name:"listOfMd",parameters:[{name:"params",type:"PaginationParams",optional:!1,isArray:!1}],returnType:"any",isAsync:!0,returnTypeIsArray:!1,isAsyncIterable:!1}],types:[{name:"MdFile",definition:`{
  path: string;
  content: string;
}`},{name:"PaginatedResult",definition:"",properties:[{name:"items",type:"T",optional:!1,isArray:!0},{name:"totalCount",type:"number",optional:!0,isArray:!1}]},{name:"PaginationParams",definition:"",properties:[{name:"offset",type:"number",optional:!1,isArray:!1},{name:"limit",type:"number",optional:!1,isArray:!1}]}]};function q(n){return R(kn,n)}var Ki=q();import{jsx as B,jsxs as d}from"react/jsx-runtime";var An=q({baseUrl:"/services"});function N(){let{slug:n}=Pn(),[i,c]=C(null),[t,s]=C(void 0),[f,w]=C(!0);return bn(()=>{let o=!0;return(async()=>{if(!n){if(o)c(null),s("Document slug is missing"),w(!1);return}w(!0),s(void 0);try{let g=await An.readMdJson(`${n}.md`);if(!o)return;c(g.content??null)}catch(g){if(!o)return;c(null),s(g?.message??"Failed to load document")}finally{if(o)w(!1)}})(),()=>{o=!1}},[n]),d("div",{className:"min-h-screen px-6 py-20",children:[d("div",{className:"max-w-3xl mx-auto mb-6 flex gap-3",children:[B(z,{asChild:!0,variant:n==="page1"?"default":"outline",children:B(H,{to:"/docs/page1",children:"Page 1"})}),B(z,{asChild:!0,variant:n==="page2"?"default":"outline",children:B(H,{to:"/docs/page2",children:"Page 2"})}),B(z,{asChild:!0,variant:"outline",children:B(H,{to:"/",children:"Home"})})]}),B(T,{ast:i,error:t,loading:f})]})}import{jsx as b,jsxs as _n}from"react/jsx-runtime";function En(){let n=gn(),i=Wn(n);if(n)i.current=n;let c=n??i.current??b(Bn,{}),[t,s]=Ln(null);if($n(()=>{let f=!0;return import("front-core").then((w)=>{if(!f)return;s(()=>w.BaseLayout)}).catch((w)=>{console.error("[landing] Failed to load front-core BaseLayout",w)}),()=>{f=!1}},[]),!t)return b("div",{className:"min-h-screen",children:c});return b(t,{centerFallback:c})}function Kn(){return _n(x,{path:"/",element:b(En,{}),children:[b(x,{index:!0,element:b(G,{})}),b(x,{path:"about",element:b(O,{})}),b(x,{path:"docs/:slug",element:b(N,{})})]})}function h(){return b(Mn,{children:b(ln,{children:Kn()})})}import{addMenuRequested as Un,bus as Jn}from"front-core";import{jsx as Qn}from"react/jsx-runtime";xn(document.getElementById("root"),Qn(h,{}));var D={ai:{title:"AI",iconName:"IconBrain",microfrontends:["mf-aichats"]},analytics:{title:"Analytics",iconName:"IconChartBar",microfrontends:["mf-telemetry","mf-logs","mf-usage","mf-dasboards"]},business:{title:"Business",iconName:"IconBriefcase",microfrontends:["mf-requests","mf-sheduller"]},content:{title:"Content",iconName:"IconFileText",microfrontends:["mf-markdown"]},data:{title:"Data",iconName:"IconDatabase",microfrontends:["mf-dumps","mf-threads"]},social:{title:"Social",iconName:"IconUsers",microfrontends:["mf-webhooks"]},workflows:{title:"Workflows",iconName:"IconGitBranch",microfrontends:["mf-dag"]}},Xn=["mf-auth"],In=[...Object.values(D).flatMap((n)=>n.microfrontends),...Xn],u={};for(let[n,i]of Object.entries(D))for(let c of i.microfrontends)u[c]=n;var U={};function Yn(){let n=[];for(let[i,c]of Object.entries(D)){let t=U[i]||[];if(t.length===0)continue;n.push({title:c.title,iconName:c.iconName,items:t})}return n}async function Zn(){for(let i of In)try{let c=await import(i);if(c.default?.plug)c.default.plug(Jn);if(c.MENU){let t=u[i];if(t){if(!U[t])U[t]=[];U[t].push(c.MENU)}}console.log(`[mf] Loaded ${i}`)}catch(c){console.error(`[mf] Failed to load ${i}:`,c)}let n=Yn();Un({microfrontendId:"grouped",menu:n})}Zn();
